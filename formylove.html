<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–ª—è –º–æ–µ–≥–æ –®–∏–Ω—à–∏–ª–∏–∫–∞ ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff4b6e;
            --bg-gradient: linear-gradient(135deg, #fff0f3 0%, #ffe4e9 100%);
            --glass-bg: rgba(255, 255, 255, 0.85);
            --shadow: 0 8px 32px 0 rgba(255, 75, 110, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--bg-gradient);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            position: relative;
            color: #4a4a4a;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Å–µ—Ä–¥–µ—á–µ–∫ –Ω–∞ —Ñ–æ–Ω–µ */
        .heart-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .floating-heart {
            position: absolute;
            color: rgba(255, 75, 110, 0.3);
            animation: floatUp linear infinite;
            font-size: 20px;
            pointer-events: none;
        }

        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
            20% { opacity: 0.8; }
            100% { transform: translateY(-20vh) scale(1.2); opacity: 0; }
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            position: relative;
            z-index: 1;
            width: 90%;
            max-width: 600px;
            text-align: center;
            padding: 20px;
        }

        .card {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 40px 30px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.5);
            animation: slideIn 1s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        h1 {
            font-family: 'Pacifico', cursive;
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .main-text {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .highlight {
            color: var(--primary-color);
            font-weight: 600;
        }

        /* –ü—É–ª—å—Å–∏—Ä—É—é—â–µ–µ —Å–µ—Ä–¥–µ—á–∫–æ */
        .big-heart {
            font-size: 60px;
            margin: 20px 0;
            display: inline-block;
            animation: heartbeat 1.5s infinite;
            cursor: pointer;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            15% { transform: scale(1.3); }
            30% { transform: scale(1); }
            45% { transform: scale(1.15); }
            60% { transform: scale(1); }
        }

        /* –°–µ–∫—Ü–∏—è —Ü–∏—Ç–∞—Ç */
        .quote-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px dashed #ffccd5;
        }

        .quote-box {
            font-style: italic;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            color: #666;
        }

        button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(255, 75, 110, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 75, 110, 0.4);
        }

        button:active {
            transform: translateY(1px);
        }

        /* Music play button (small) */
        #musicBtn {
            padding: 8px 18px;
            border-radius: 30px;
            font-size: 0.95rem;
            margin-top: 12px;
            background: linear-gradient(90deg, #ff7b95, #ff4b6e);
        }

        /* Fullscreen hearts overlay */
        .hearts-overlay {
            position: fixed;
            inset: 0;
            background: radial-gradient(circle at center, rgba(255,255,255,0.05), rgba(0,0,0,0.15));
            pointer-events: none;
            overflow: hidden;
            z-index: 9999;
        }

        .overlay-message {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Pacifico', cursive;
            font-size: 3rem;
            color: white;
            text-shadow: 0 6px 30px rgba(0,0,0,0.5);
            z-index: 10001;
            pointer-events: none;
        }

        .fs-heart {
            position: absolute;
            font-size: 18px;
            opacity: 0.9;
            animation: drift 6s linear infinite;
            will-change: transform, opacity;
            pointer-events: none;
        }

        @keyframes drift {
            0% { transform: translateY(0) scale(1); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translateY(-140vh) scale(1.5); opacity: 0; }
        }

        /* Responsive: phones and small screens */
        @media (max-width: 600px) {
            body {
                padding: 18px 8px;
            }

            .container {
                width: 100%;
                max-width: 420px;
                padding: 12px;
            }

            .card {
                padding: 26px 18px;
                border-radius: 18px;
            }

            h1 {
                font-size: 1.9rem;
                margin-bottom: 12px;
            }

            .main-text { font-size: 0.98rem; line-height: 1.45; }

            .big-heart { font-size: 44px; }

            .quote-box { font-size: 0.95rem; min-height: 54px; padding: 6px 8px; }

            button { padding: 10px 18px; font-size: 0.95rem; }

            #musicBtn { margin-top: 8px; }

            /* Stack forgiveness buttons on small screens */
            #forgiveSection { display: flex; flex-direction: column; align-items: center; gap: 8px; }
            #forgiveSection button { width: 140px; }

            /* Make floating hearts smaller on phones */
            .floating-heart { font-size: 14px; }

            /* Overlay message smaller */
            .overlay-message { font-size: 1.6rem; padding: 6px 12px; }

            /* Fullscreen heart size adjustments */
            .fs-heart { font-size: 12px; }
        }

        /* Additional fine-tuned breakpoints for popular phone models */
        /* Very small phones (iPhone SE, small Android) */
        @media (max-width: 360px) {
            h1 { font-size: 1.6rem; }
            .main-text { font-size: 0.95rem; }
            .big-heart { font-size: 38px; }
            button { padding: 9px 14px; font-size: 0.92rem; }
            #forgiveSection button { width: 120px; }
            .quote-box { font-size: 0.9rem; min-height: 48px; }
            .floating-heart { display: none; } /* hide to save space/battery */
            .overlay-message { font-size: 1.4rem; }
            .fs-heart { font-size: 10px; }
        }

        /* Typical small/medium phones (iPhone 6/7/8/SE 2nd gen / Pixel) */
        @media (min-width: 361px) and (max-width: 390px) {
            h1 { font-size: 1.75rem; }
            .main-text { font-size: 0.98rem; }
            .big-heart { font-size: 42px; }
            button { padding: 10px 16px; font-size: 0.94rem; }
            #forgiveSection button { width: 125px; }
            .quote-box { font-size: 0.94rem; }
            .overlay-message { font-size: 1.5rem; }
        }

        /* Wider phones (iPhone XR/11/12/13 smaller variants, many Androids ~412px) */
        @media (min-width: 391px) and (max-width: 428px) {
            h1 { font-size: 1.95rem; }
            .main-text { font-size: 1rem; }
            .big-heart { font-size: 48px; }
            button { padding: 11px 18px; font-size: 0.98rem; }
            #forgiveSection button { width: 140px; }
            .quote-box { font-size: 1rem; }
            .overlay-message { font-size: 1.8rem; }
        }

        /* Large phones and small tablets up to 600px */
        @media (min-width: 429px) and (max-width: 600px) {
            h1 { font-size: 2.05rem; }
            .main-text { font-size: 1.04rem; }
            .big-heart { font-size: 52px; }
            button { padding: 12px 20px; font-size: 1rem; }
            #forgiveSection button { width: 150px; }
            .quote-box { font-size: 1.02rem; }
            .overlay-message { font-size: 2rem; }
        }

        /* Small tablets / landscape phones */
        @media (min-width: 601px) and (max-width: 768px) {
            .container { max-width: 720px; }
            h1 { font-size: 2.2rem; }
            .main-text { font-size: 1.08rem; }
            .big-heart { font-size: 56px; }
            button { padding: 12px 26px; font-size: 1.02rem; }
            #forgiveSection { flex-direction: row; }
            #forgiveSection button { width: auto; }
            .fs-heart { font-size: 14px; }
        }

        /* iPhone 11 specific tuning (portrait & landscape) */
        @media (width: 414px) and (height: 896px) and (orientation: portrait) {
            /* respect notch / safe area */
            body {
                padding-left: env(safe-area-inset-left, 12px);
                padding-right: env(safe-area-inset-right, 12px);
                padding-top: env(safe-area-inset-top, 12px);
                padding-bottom: env(safe-area-inset-bottom, 12px);
            }

            .container { max-width: 380px; }
            .card { padding: 28px 18px; }
            h1 { font-size: 2.05rem; }
            .main-text { font-size: 1.04rem; line-height: 1.5; }
            .big-heart { font-size: 54px; }
            .quote-box { font-size: 1.02rem; min-height: 60px; }
            button { padding: 12px 22px; font-size: 1rem; border-radius: 40px; }
            #forgiveSection { gap: 10px; }
            #forgiveSection button { width: 150px; }
            .overlay-message { font-size: 2.2rem; }
            .fs-heart { font-size: 14px; }
        }

        @media (width: 896px) and (height: 414px) and (orientation: landscape) {
            body {
                padding-left: env(safe-area-inset-left, 10px);
                padding-right: env(safe-area-inset-right, 10px);
            }
            .container { max-width: 820px; }
            h1 { font-size: 2.2rem; }
            .main-text { font-size: 1.06rem; }
            .big-heart { font-size: 60px; }
            button { padding: 12px 24px; font-size: 1.02rem; }
            .overlay-message { font-size: 2.4rem; }
        }

    </style>
</head>
<body>

    <div class="heart-bg" id="heartBg"></div>

    <div class="container">
        <div class="card">
            <h1>–ü—Ä–æ—Å—Ç–∏ –º–µ–Ω—è...</h1>
            
            <div class="big-heart" onclick="createBurst(event)">‚ù§Ô∏è</div>

            <!-- Music element and small play button -->
            <div>
                <audio id="bgMusic" src="romantic.mp3" loop preload="auto"></audio>
                <audio id="noSound" src="no-pop.mp3" preload="auto"></audio>
                <button id="musicBtn" onclick="toggleMusic(event)">–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É üéµ</button>
            </div>

            <p class="main-text">
                <b>–®–∏–Ω—à–∏–ª–∏–∫</b>, —Ç—ã ‚Äî –ª—É—á—à–µ–µ, —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å —Å–æ –º–Ω–æ–π –∑–∞ —ç—Ç–æ—Ç –≥–æ–¥. 
                –Ø –∏ –Ω–µ –¥—É–º–∞–ª, —á—Ç–æ –¥–µ–≤—É—à–∫–∞ —Å–ø–æ—Å–æ–±–Ω–∞ —Ç–∞–∫ –ª—é–±–∏—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å. 
                –Ø –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω —Ç–µ–±–µ –∑–∞ —Ç–æ, —á—Ç–æ —Ç—ã –µ—Å—Ç—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏ –∏ –æ—Ç–¥–∞–ª–∞ –º–Ω–µ —Å–≤–æ–µ —Å–µ—Ä–¥–µ—á–∫–æ –≤ –º–æ–∏ —Ç–µ–ø–ª—ã–µ —Ä—É–∫–∏.
                <br><br>
                <span class="highlight">
                    –¢—ã –Ω–∞—É—á–∏–ª–∞ –º–µ–Ω—è –≤–µ—Ä–∏—Ç—å –≤ –Ω–∞—Å –∏ –ø–æ–∫–∞–∑–∞–ª–∞, –∫–∞–∫–æ–π –Ω–µ–∂–Ω–æ–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–≤—å. 
                    –ü—Ä–æ—Å—Ç–∏ –º–µ–Ω—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞. –Ø –æ–±–µ—â–∞—é –±–µ—Ä–µ—á—å —Ç–≤–æ—é —É–ª—ã–±–∫—É –∏ –¥–µ–ª–∞—Ç—å –≤—Å—ë, —á—Ç–æ–±—ã —Ç—ã –±—ã–ª–∞ —Å–∞–º–æ–π —Å—á–∞—Å—Ç–ª–∏–≤–æ–π.
                </span>
            </p>

            <div class="quote-section">
                <h3>–¢–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:</h3>
                <div class="quote-box" id="quoteDisplay">
                    "–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ..."
                </div>
                <button onclick="newQuote()">–û—Ç–∫—Ä—ã—Ç—å –ø–æ—Å–ª–∞–Ω–∏–µ üíå</button>
            
                <!-- Forgiveness prompt -->
                <div id="forgiveSection" style="margin-top:18px;">
                    <p style="margin-bottom:8px; font-weight:600;">–•–æ—á–µ—à—å –ø—Ä–æ—Å—Ç–∏—Ç—å –º–µ–Ω—è?</p>
                    <button id="btnYes" onclick="forgiveYes()">–î–∞</button>
                    <button id="btnNo" onclick="forgiveNo()">–ù–µ—Ç</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 1. –õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–æ–Ω–æ–≤—ã—Ö —Å–µ—Ä–¥–µ—á–µ–∫
        function createFloatingHearts() {
            const container = document.getElementById('heartBg');
            const heartCount = 20; // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–¥–µ—á–µ–∫

            for (let i = 0; i < heartCount; i++) {
                const heart = document.createElement('div');
                heart.classList.add('floating-heart');
                heart.innerHTML = '‚ù§';
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –∏ –∞–Ω–∏–º–∞—Ü–∏—è
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDuration = (Math.random() * 5 + 5) + 's';
                heart.style.animationDelay = (Math.random() * 5) + 's';
                heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
                
                container.appendChild(heart);
            }
        }

        // 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 120+ —Ü–∏—Ç–∞—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ (—á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é)
        function buildQuotes(count = 120) {
            const subjects = [
                '–¢–≤–æ—è —É–ª—ã–±–∫–∞', '–¢–≤–æ–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ', '–¢–≤–æ—è –¥–æ–±—Ä–æ—Ç–∞', '–¢–≤–æ—è –Ω–µ–∂–Ω–æ—Å—Ç—å', '–¢–≤–æ–π –≤–∑–≥–ª—è–¥', '–¢–≤–æ–π —Å–º–µ—Ö', '–¢–≤–æ–µ —Ç–µ–ø–ª–æ', '–¢–≤–æ—è –∑–∞–±–æ—Ç–∞', '–¢–≤–æ—è –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å', '–¢–≤–æ—è —ç–Ω–µ—Ä–≥–∏—è'
            ];
            const verbs = [
                '–æ—Å–≤–µ—â–∞–µ—Ç', '–¥–µ–ª–∞–µ—Ç –º–∏—Ä –∫—Ä–∞—à–µ', '–¥–∞—Ä–∏—Ç –ø–æ–∫–æ–π', '–Ω–∞–ø–æ–ª–Ω—è–µ—Ç —Ä–∞–¥–æ—Å—Ç—å—é', '–≥—Ä–µ–µ—Ç —Å–µ—Ä–¥—Ü–µ', '–¥–µ–ª–∞–µ—Ç –º–µ–Ω—è –ª—É—á—à–µ', '–≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç', '–¥–∞—Ä–∏—Ç –Ω–∞–¥–µ–∂–¥—É', '–∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—á—Ç–∞—Ç—å', '–¥–µ–ª–∞–µ—Ç –≤—Å—ë –ø—Ä–æ—Å—Ç—ã–º'
            ];
            const endings = [
                '–¥–∞–∂–µ —Å–∞–º—ã–π –ø–∞—Å–º—É—Ä–Ω—ã–π –¥–µ–Ω—å.', '–∫–∞–∂–¥—ã–π –º–∏–≥ —Å–æ –º–Ω–æ–π.', '–∫–∞–∫ –º–∞–ª–µ–Ω—å–∫–æ–µ —á—É–¥–æ.', '–∏ —è —Ö–æ—á—É –±—ã—Ç—å —Ä—è–¥–æ–º –≤—Å–µ–≥–¥–∞.', '–∏ —è –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω —Ç–µ–±–µ.', '–∏ –º–Ω–µ —Ö–æ—á–µ—Ç—Å—è –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ —Ç–µ–±–µ.', '–∫–∞–∫ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –≤ –∂–∏–∑–Ω–∏.', '–∏ —ç—Ç–æ –±–µ—Å—Ü–µ–Ω–Ω–æ.', '–∏ —è –±–µ—Ä–µ–≥—É —Ç–µ–±—è.', '–∏ —è —Å—á–∞—Å—Ç–ª–∏–≤.'
            ];

            const out = [];
            for (let i = 0; out.length < count; i++) {
                const a = subjects[i % subjects.length];
                const b = verbs[(i * 3) % verbs.length];
                const c = endings[(i * 7) % endings.length];
                out.push(`${a} ${b} ${c}`);
            }
            // Add a few handcrafted lines for variety
            out.push('–¢—ã ‚Äî –º–æ–µ —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ.');
            out.push('–õ—é–±–∏—Ç—å —Ç–µ–±—è ‚Äî —ç—Ç–æ –∫–∞–∫ –¥—ã—à–∞—Ç—å: –ª–µ–≥–∫–æ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.');
            out.push('–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –¥–µ–ª–∞–µ—à—å —ç—Ç–æ—Ç –º–∏—Ä –∫—Ä–∞—Å–∏–≤–µ–µ –ø—Ä–æ—Å—Ç–æ —Å–≤–æ–∏–º –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ–º.');
            return out;
        }

        const quotes = buildQuotes(120);

        function newQuote() {
            const display = document.getElementById('quoteDisplay');
            const randomIndex = Math.floor(Math.random() * quotes.length);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ–Ω—ã —Ç–µ–∫—Å—Ç–∞
            display.style.opacity = 0;
            setTimeout(() => {
                display.innerText = quotes[randomIndex];
                display.style.opacity = 1;
            }, 300);
        }

        // 3. –≠—Ñ—Ñ–µ–∫—Ç –≤–∑—Ä—ã–≤–∞ —Å–µ—Ä–¥–µ—á–µ–∫ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ
        function createBurst(e) {
            const count = 15;
            for (let i = 0; i < count; i++) {
                const heart = document.createElement('div');
                heart.innerHTML = 'üíñ';
                heart.style.position = 'fixed';
                heart.style.left = e.clientX + 'px';
                heart.style.top = e.clientY + 'px';
                heart.style.pointerEvents = 'none';
                heart.style.fontSize = '20px';
                heart.style.transition = 'all 0.8s ease-out';
                
                document.body.appendChild(heart);

                // –†–∞–∑–ª–µ—Ç –≤ —Ä–∞–∑–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
                const angle = Math.random() * Math.PI * 2;
                const velocity = Math.random() * 100 + 50;
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity;

                requestAnimationFrame(() => {
                    heart.style.transform = `translate(${tx}px, ${ty}px) scale(0)`;
                    heart.style.opacity = 0;
                });

                setTimeout(() => heart.remove(), 800);
            }
        }

        // 4. Forgiveness UI behavior
        function forgiveNo() {
                const btnNo = document.getElementById('btnNo');
                if (!btnNo) return;
                // Play light sound effect for 'fly away'
                const noSound = document.getElementById('noSound');
                if (noSound) {
                    try { noSound.currentTime = 0; } catch(e) {}
                    noSound.volume = 0.6;
                    noSound.play && noSound.play().catch(() => {});
                }
                // Prevent repeated clicks
                btnNo.disabled = true;

                // Smooth flying animation: translate far away and fade out
                const angle = (Math.random() * 2 - 1) * Math.PI; // random direction
                const maxDim = Math.max(window.innerWidth, window.innerHeight);
                const distance = maxDim * (0.8 + Math.random() * 0.6);
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance * -1; // bias upward
                const rot = Math.floor(Math.random() * 720 - 360);

                btnNo.style.transition = 'transform 0.9s cubic-bezier(.2,.8,.2,1), opacity 0.9s';
                btnNo.style.willChange = 'transform, opacity';

                requestAnimationFrame(() => {
                    btnNo.style.transform = `translate(${tx}px, ${ty}px) rotate(${rot}deg) scale(0.6)`;
                    btnNo.style.opacity = '0';
                });

                // Remove after animation completes
                setTimeout(() => {
                    if (btnNo && btnNo.parentNode) btnNo.parentNode.removeChild(btnNo);
                }, 920);
        }

        function forgiveYes() {
            const btnYes = document.getElementById('btnYes');
            const btnNo = document.getElementById('btnNo');
            if (btnYes) btnYes.disabled = true;
            if (btnNo) btnNo.remove();
            createFullScreenHearts();
            showOverlayMessage('–î—ç–Ω—á–∏–∫—É—Å —Å—á–∞—Å—Ç–ª–∏–≤');
        }

        function createFullScreenHearts() {
            const overlay = document.createElement('div');
            overlay.className = 'hearts-overlay';
            overlay.id = 'heartsOverlay';

            const total = 200;
            for (let i = 0; i < total; i++) {
                const h = document.createElement('div');
                h.className = 'fs-heart';
                h.innerHTML = Math.random() > 0.6 ? 'üíñ' : '‚ù§Ô∏è';
                const size = Math.random() * 24 + 12;
                h.style.fontSize = size + 'px';
                h.style.left = Math.random() * 100 + '%';
                h.style.top = Math.random() * 120 + '%';
                h.style.animationDuration = (4 + Math.random() * 6) + 's';
                h.style.opacity = (0.6 + Math.random() * 0.4).toString();
                overlay.appendChild(h);
            }

            document.body.appendChild(overlay);

            // Remove pointer-events so it doesn't block interaction, but allow it to fade later
            setTimeout(() => {
                overlay.style.transition = 'opacity 1.2s ease-out';
                overlay.style.opacity = '1';
            }, 50);

            // Optional automatic cleanup after some time
            setTimeout(() => {
                if (overlay) overlay.remove();
            }, 20000);
        }

        function showOverlayMessage(text) {
            const m = document.createElement('div');
            m.className = 'overlay-message';
            m.innerText = text;
            document.body.appendChild(m);
            setTimeout(() => m.style.opacity = '1', 50);
            // remove after a while
            setTimeout(() => m.remove(), 20000);
        }

        // 5. Music control
        function toggleMusic(e) {
            const btn = document.getElementById('musicBtn');
            const audio = document.getElementById('bgMusic');
            if (!audio) return;
            audio.volume = 0.18; // quiet
            // Try to play; some browsers require interaction
            audio.play().then(() => {
                if (btn) btn.innerText = '–ú—É–∑—ã–∫–∞ –∏–≥—Ä–∞–µ—Ç üéµ';
            }).catch(() => {
                // if cannot autoplay, indicate user should click
                if (btn) btn.innerText = '–ù–∞–∂–º–∏—Ç–µ —Å–Ω–æ–≤–∞, —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É';
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.onload = () => {
            createFloatingHearts();
            newQuote(); // –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–≤—É—é —Ü–∏—Ç–∞—Ç—É —Å—Ä–∞–∑—É
        };
    </script>
</body>
</html>